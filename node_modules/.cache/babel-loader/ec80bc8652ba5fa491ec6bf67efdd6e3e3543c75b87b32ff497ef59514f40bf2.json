{"ast":null,"code":"import { authHeader } from '../_helpers';\nimport axios from \"axios\";\nexport const userService = {\n  login,\n  logout,\n  register,\n  getAll,\n  getById,\n  update,\n  delete: _delete,\n  GetCustomerlogin\n};\nfunction login(Email, Password) {\n  debugger;\n  const requestOptions = {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      Email,\n      Password\n    })\n  };\n  return axios.post(\"https://localhost:44335/api/customers/login\", requestOptions).then(handleResponse).then(user => {\n    // store user details and jwt token in local storage to keep user logged in between page refreshes\n    localStorage.setItem('token', JSON.stringify(user.token));\n    console.log(user);\n    return user;\n  });\n}\nfunction GetCustomerlogin(Email) {\n  debugger;\n  const requestOptions = {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      Email,\n      Password\n    }),\n    Authorization: localStorage.getItem(\"token\")\n  };\n  let url = \"https://localhost:44335/api/customers/GetCustomerByEmail\" + Email;\n  return axios.post(url, requestOptions).then(handleResponse).then(user => {\n    // store user details and jwt token in local storage to keep user logged in between page refreshes\n    localStorage.setItem('customer', JSON.stringify(user));\n    console.log(user);\n    return user;\n  });\n}\n_c = GetCustomerlogin;\nfunction logout() {\n  // remove user from local storage to log user out\n  localStorage.removeItem('user');\n}\nfunction getAll() {\n  const requestOptions = {\n    method: 'GET',\n    headers: authHeader()\n  };\n  return fetch(\"https://localhost:44335/api/customers/GetAllCustomers\", requestOptions).then(handleResponse);\n}\nfunction getById(id) {\n  const requestOptions = {\n    method: 'GET',\n    headers: authHeader()\n  };\n  return fetch(`https://localhost:44335/api/customers/GetCustomerById/${id}`, requestOptions).then(handleResponse);\n}\nfunction register(user) {\n  const requestOptions = {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(user)\n  };\n  return fetch(`https://localhost:44335/api/customers/register`, requestOptions).then(handleResponse);\n}\nfunction update(user) {\n  const requestOptions = {\n    method: 'PUT',\n    headers: {\n      ...authHeader(),\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(user)\n  };\n  return fetch(`/users/${user.id}`, requestOptions).then(handleResponse);\n  ;\n}\n\n// prefixed function name with underscore because delete is a reserved word in javascript\nfunction _delete(id) {\n  const requestOptions = {\n    method: 'DELETE',\n    headers: authHeader()\n  };\n  return fetch(`/users/${id}`, requestOptions).then(handleResponse);\n}\nfunction handleResponse(response) {\n  return response.text().then(text => {\n    const data = text && JSON.parse(text);\n    if (!response.ok) {\n      if (response.status === 401) {\n        // auto logout if 401 response returned from api\n        logout();\n        location.reload(true);\n      }\n      const error = data && data.message || response.statusText;\n      return Promise.reject(error);\n    }\n    console.log(\"burası handleresponse userserviceden döndü\");\n    console.log(data);\n    return data;\n  });\n}\nvar _c;\n$RefreshReg$(_c, \"GetCustomerlogin\");","map":{"version":3,"names":["authHeader","axios","userService","login","logout","register","getAll","getById","update","delete","_delete","GetCustomerlogin","Email","Password","requestOptions","method","headers","body","JSON","stringify","post","then","handleResponse","user","localStorage","setItem","token","console","log","Authorization","getItem","url","removeItem","fetch","id","response","text","data","parse","ok","status","location","reload","error","message","statusText","Promise","reject"],"sources":["C:/Users/Tringle7/Documents/PersonalWorkspace/programschedule-web/src/_services/user.service.js"],"sourcesContent":["import { authHeader } from '../_helpers';\nimport axios from \"axios\";\n\nexport const userService = {\n    login,\n    logout,\n    register,\n    getAll,\n    getById,\n    update,\n    delete: _delete,\n    GetCustomerlogin,\n};\n\nfunction login(Email, Password) {\n    debugger;\n    const requestOptions = {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ Email, Password })\n    };\n\n    return axios.post(\"https://localhost:44335/api/customers/login\", requestOptions)\n        .then(handleResponse)\n        .then(user => {\n            // store user details and jwt token in local storage to keep user logged in between page refreshes\n            localStorage.setItem('token', JSON.stringify(user.token));\n            console.log(user);\n            return user;\n        });\n}\nfunction GetCustomerlogin(Email) {\n    debugger;\n    const requestOptions = {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ Email, Password }),\n        Authorization:localStorage.getItem(\"token\")\n    };\n    let url = \"https://localhost:44335/api/customers/GetCustomerByEmail\"+Email;\n    return axios.post(url, requestOptions)\n        .then(handleResponse)\n        .then(user => {\n            // store user details and jwt token in local storage to keep user logged in between page refreshes\n            localStorage.setItem('customer', JSON.stringify(user));\n            console.log(user);\n            return user;\n        });\n}\n\nfunction logout() {\n    // remove user from local storage to log user out\n    localStorage.removeItem('user');\n}\n\nfunction getAll() {\n    const requestOptions = {\n        method: 'GET',\n        headers: authHeader()\n    };\n\n    return fetch(\"https://localhost:44335/api/customers/GetAllCustomers\", requestOptions).then(handleResponse);\n}\n\nfunction getById(id) {\n    const requestOptions = {\n        method: 'GET',\n        headers: authHeader()\n    };\n\n    return fetch(`https://localhost:44335/api/customers/GetCustomerById/${id}`, requestOptions).then(handleResponse);\n}\n\nfunction register(user) {\n    const requestOptions = {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(user)\n    };\n\n    return fetch(`https://localhost:44335/api/customers/register`, requestOptions).then(handleResponse);\n}\n\nfunction update(user) {\n    const requestOptions = {\n        method: 'PUT',\n        headers: { ...authHeader(), 'Content-Type': 'application/json' },\n        body: JSON.stringify(user)\n    };\n\n    return fetch(`/users/${user.id}`, requestOptions).then(handleResponse);;\n}\n\n// prefixed function name with underscore because delete is a reserved word in javascript\nfunction _delete(id) {\n    const requestOptions = {\n        method: 'DELETE',\n        headers: authHeader()\n    };\n\n    return fetch(`/users/${id}`, requestOptions).then(handleResponse);\n}\n\nfunction handleResponse(response) {\n    return response.text().then(text => {\n        const data = text && JSON.parse(text);\n        if (!response.ok) {\n            if (response.status === 401) {\n                // auto logout if 401 response returned from api\n                logout();\n                location.reload(true);\n            }\n\n            const error = (data && data.message) || response.statusText;\n            return Promise.reject(error);\n        }\n        console.log(\"burası handleresponse userserviceden döndü\");\n        console.log(data);\n        return data;\n    });\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}